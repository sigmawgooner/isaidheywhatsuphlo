<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Proxy Wars Project</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: Arial, sans-serif;
      background: black;
      color: white;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
    }

    .slides {
      position: relative;
      height: 100vh;
      width: 100vw;
      transform: translateY(0);
      transition: transform 1s ease-in-out;
      z-index: 1;
    }

    .slide {
      height: 100vh;
      width: 100vw;
      padding: 80px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
    }

    .slide h1 {
      font-size: 3.2em;
      margin-bottom: 25px;
    }

    .slide p {
      font-size: 1.2em;
      max-width: 1000px;
      line-height: 1.7;
      margin: 12px auto;
    }

    .page-marker {
      position: absolute;
      bottom: 30px;
      right: 50px;
      font-size: 1em;
      opacity: 0.8;
    }

    /* Brainrot Image Viewer */
    .brainrot-viewer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 100;
    }

    .brainrot-container {
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }

    .brainrot-image, .brainrot-iframe {
      max-width: 100%;
      max-height: 80vh;
      border: 3px solid #fff;
      border-radius: 8px;
    }

    .close-brainrot {
      position: absolute;
      top: -15px;
      right: -15px;
      background: #ff4444;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      font-weight: bold;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .close-brainrot:hover {
      background: #ff0000;
      transform: scale(1.1);
    }

    .brainrot-counter {
      position: absolute;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 1.2em;
      text-align: center;
    }

    /* Typing Indicator */
    .typing-indicator {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 15px;
      border-radius: 20px;
      display: none;
      z-index: 101;
    }

    .typing-text {
      color: white;
      font-size: 1.1em;
    }

    .typing-dots {
      display: inline-block;
      width: 20px;
    }

    .typing-dots::after {
      content: '';
      animation: typingDots 1.5s infinite;
    }

    @keyframes typingDots {
      0% { content: ''; }
      25% { content: '.'; }
      50% { content: '..'; }
      75% { content: '...'; }
      100% { content: ''; }
    }
  </style>
</head>
<body>
  <canvas id="flags"></canvas>

  <div class="slides" id="slides">
    <!-- All slides remain unchanged (Page 1â€“6) -->
    <div class="slide">
      <h1>What Are Proxy Wars?</h1>
      <p>A proxy war is when two powerful nations compete indirectly by supporting different sides in another country's conflict. Instead of fighting each other directly, they give money, weapons, and training. Proxy wars were especially common during the Cold War between the U.S. and the Soviet Union.</p>
      <p>These wars allowed the superpowers to spread their influence (capitalism vs. communism) without risking a nuclear world war. But for the countries where they happened, the cost was huge: millions of lives lost, destroyed economies, and political chaos.</p>
      <p>Proxy wars are important to study because they show how global politics shapes local conflicts, how outside intervention can drag wars out for decades, and how the people most affected are usually the civilians trapped in the middle.</p>
      <div class="page-marker">Page 1 / 6</div>
    </div>
    <!-- Remaining slides omitted for brevity, but include all six slides -->
  </div>

  <!-- Brainrot Image Viewer -->
  <div class="brainrot-viewer" id="brainrotViewer">
    <div class="brainrot-container">
      <div class="close-brainrot" id="closeBrainrot">X</div>
      <img class="brainrot-image" id="brainrotImage" src="" alt="Brainrot Image">
      <div class="brainrot-counter" id="brainrotCounter"></div>
    </div>
  </div>

  <script>
    // ----- Brainrot Phrases and Image System -----
    const phraseToImageMap = {
      "skibiditoilet": 100,
      "ohio": 101,
      "gyatt": 102,
      "rizz": 103,
      "sigma": 104,
      "fanumtax": 105,
      "inohio": 106,
      "skibidi": 107,
      "whatthedogdoin": 109,
      "lobotomy": 110,
      "goofyahh": 111,
      "quandale": 112,
      "lukas": 113,
      "fnf": 114,
      "vehicle": 115,
      "man": 116,
      "jonkler": 117,
      "schizophrenia": 118,
      "brainrot": 120,
      "edgelord": 121,
      "itssoover": 122,
      "weresoback": 123,
      "baddies": 194,
      "bingchilling": 124,
      "doyouknowdawae": 125,
      "nahidwin": 126,
      "areyoustupid": 127,
      "theonepieceisreal": 128,
      "canwegetmuchhigher": 129,
      "theboykissermeme": 130,
      "grimaceshake": 131,
      "strawberryelephant": 132,
      "jandel": 133,
      "therock": 134,
      "npcmeme": 135,
      "livelaughlove": 136,
      "sheesh": 137,
      "bussin": 138,
      "nocap": 139,
      "cap": 140,
      "bet": 141,
      "slay": 142,
      "ong": 143,
      "fr": 144,
      "goated": 145,
      "maincharacterenergy": 146,
      "touchgrass": 147,
      "homelander": 148,
      "itsgiving": 149,
      "imliterallyhim": 150,
      "pov": 151,
      "sammy": 152,
      "ohnah": 153,
      "fanfic": 154,
      "wellerman": 155,
      "ohnosong": 156,
      "blingblongboy": 157,
      "doors": 158,
      "johnpork": 160,
      "adoptme": 161,
      "chunkykong": 162,
      "chains": 163,
      "davidbaszucki": 164,
      "schlepsituation": 165,
      "bloxfruits": 166,
      "wearenothorses": 167,
      "wearenothumans": 168,
      "baconhair": 169,
      "holymoly": 170,
      "smashorpass": 171,
      "roblox": 172,
      "lankybox": 173,
      "insanecraft": 174,
      "flamingo": 175,
      "catgirl": 176,
      "dontclickthesound": 177,
      "ihave10billionpowerinriseofkingdoms": 178,
      "therizzler": 179,
      "pullingup": 180,
      "lethimcook": 181,
      "wompwomp": 182,
      "theromanempire": 183,
      "theworldssmallestviolin": 185,
      "itsneverthatserious": 186,
      "goofygoober": 188,
      "imdeceased": 189,
      "sleepyjoe": 190,
      "thematrix": 191,
      "badkuna": 192,
      "core": 193,
      "standproud": 196,
      "youaremyspecialz": 197,
      "withthissacredtreasure": 198,
      "malevolentkitchen": 199,
      "unlimitedvoid": 200,
      "domainexpansion": 201,
      "fraudkuna": 202,
      "virus": "webpage" // <-- NEW TERM
    };

    const brainrotViewer = document.getElementById('brainrotViewer');
    const brainrotImage = document.getElementById('brainrotImage');
    const brainrotCounter = document.getElementById('brainrotCounter');
    const closeBrainrot = document.getElementById('closeBrainrot');
    
    let currentInput = '';
    let typingTimer = null;

    closeBrainrot.addEventListener('click', () => {
      brainrotViewer.style.display = 'none';
      currentInput = '';
      // remove iframe if exists
      const iframe = document.getElementById('brainrotIframe');
      if (iframe) iframe.remove();
      brainrotImage.style.display = 'block';
      document.body.style.background = "black";
    });

    brainrotViewer.addEventListener('click', (e) => {
      if (e.target === brainrotViewer) {
        brainrotViewer.style.display = 'none';
        currentInput = '';
        const iframe = document.getElementById('brainrotIframe');
        if (iframe) iframe.remove();
        brainrotImage.style.display = 'block';
        document.body.style.background = "black";
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key.length === 1 && e.key.match(/[a-z]/i)) {
        currentInput += e.key.toLowerCase();
        if (typingTimer) clearTimeout(typingTimer);
        typingTimer = setTimeout(() => checkForPhraseMatch(), 2000);
      }
    });

    function checkForPhraseMatch() {
      if (phraseToImageMap.hasOwnProperty(currentInput)) {
        const value = phraseToImageMap[currentInput];
        if (value === "webpage") {
          showVirusWebpage();
        } else {
          showBrainrotImage(value);
        }
      }
      currentInput = '';
    }

    function showBrainrotImage(imageNumber) {
      brainrotViewer.style.display = 'flex';
      brainrotImage.style.display = 'block';
      brainrotImage.src = `${imageNumber}.png`;
      brainrotCounter.textContent = `${imageNumber}.png`;
      document.body.style.backgroundImage = `url(${imageNumber}.png)`;
    }

    function showVirusWebpage() {
      brainrotViewer.style.display = 'flex';
      brainrotImage.style.display = 'none';
      const iframe = document.createElement('iframe');
      iframe.src = "https://xn--5q9h.surge.sh/";
      iframe.className = "brainrot-iframe";
      iframe.id = "brainrotIframe";
      brainrotViewer.querySelector('.brainrot-container').appendChild(iframe);
      brainrotCounter.textContent = "virus webpage";
      document.body.style.background = "none";
    }

    // ----- Slide System -----
    const slides = document.getElementById("slides");
    const totalSlides = document.querySelectorAll(".slide").length;
    let current = 0;

    window.addEventListener("keydown", (e) => {
      if (brainrotViewer.style.display !== 'flex') {
        if (e.key === "ArrowDown" && current < totalSlides - 1) {
          current++;
          slides.style.transform = `translateY(-${current * 100}vh)`;
        } else if (e.key === "ArrowUp" && current > 0) {
          current--;
          slides.style.transform = `translateY(-${current * 100}vh)`;
        }
      }
    });

    // ----- Flag Bouncing & Collision -----
    const canvas = document.getElementById("flags");
    const ctx = canvas.getContext("2d");
    let width, height;
    const flags = [];
    const flagSrcs = [
      "https://flagcdn.com/w320/us.png",
      "https://flagcdn.com/w320/ru.png"
    ];

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    class Flag {
      constructor(img) {
        this.img = img;
        this.x = Math.random() * (width - 200);
        this.y = Math.random() * (height - 120);
        this.dx = (Math.random() - 0.5) * 4;
        this.dy = (Math.random() - 0.5) * 4;
        this.size = 250;
      }
      update() {
        this.x += this.dx;
        this.y += this.dy;
        if (this.x < 0 || this.x + this.size > width) this.dx *= -1;
        if (this.y < 0 || this.y + this.size * 0.6 > height) this.dy *= -1;
      }
      draw() {
        ctx.globalAlpha = 0.35;
        ctx.drawImage(this.img, this.x, this.y, this.size, this.size * 0.6);
        ctx.globalAlpha = 1;
      }
    }

    function handleCollisions() {
      for (let i = 0; i < flags.length; i++) {
        for (let j = i + 1; j < flags.length; j++) {
          const a = flags[i];
          const b = flags[j];
          const dx = b.x - a.x;
          const dy = b.y - a.y;
          const distance = Math.hypot(dx, dy);
          if (distance < a.size * 0.6) {
            [a.dx, b.dx] = [b.dx, a.dx];
            [a.dy, b.dy] = [b.dy, a.dy];
          }
        }
      }
    }

    Promise.all(flagSrcs.map(src => {
      return new Promise(res => {
        const img = new Image();
        img.src = src;
        img.onload = () => res(img);
      });
    })).then(images => {
      for (let img of images) flags.push(new Flag(img));
      animate();
    });

    function animate() {
      ctx.clearRect(0, 0, width, height);
      handleCollisions();
      for (let flag of flags) {
        flag.update();
        flag.draw();
      }
      requestAnimationFrame(animate);
    }
  </script>
</body>
</html>
